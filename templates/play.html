{% extends 'base.html' %}

{% block head %}

<link rel="stylesheet" type= "text/css" href="{{url_for('static', filename='stylesheets/wikipedia.css')}}">
<link rel="stylesheet" type= "text/css" href="{{url_for('static', filename='stylesheets/play.css')}}">
<script type="module" src="{{url_for('static', filename='js/play.js')}}"></script>
<style>
    [v-cloak] { display: none }
</style>
{% endblock %}

{% block content %}

<div id="app">

    <div v-show="started && !finished" id="time-box" class="HUDwrapper container">
        <div class="row flex-row">
            <div class="col-sm-auto text-nowrap px-4 py-2">
                Start Article<br><strong>[[startArticle]]</strong>
            </div>
            <div class="col-sm-auto text-nowrap px-4 py-2">
                End Article<br><strong>[[endArticle]] </strong><small class="tooltip-auto">â“˜</small>
            </div>
            <div class="col-sm-auto text-nowrap px-4 py-2">
                Time Elapsed<br><strong>[[elapsed.toFixed(3)]] s</strong>
            </div>
        </div>
    </div>

    <div class="tooltip-container">
        <div id="tooltip-img"></div>
        <div id="tooltip-txt"></div>
    </div>

    <countdown-timer id="time-box"
        v-bind:start-article="startArticle"
        v-bind:end-article="endArticle"
        v-on:start-game="start"
    ></countdown-timer>

    <!-- TODO its a bit ugly passing all these in, should clean this up-->
    <finish-page
        v-bind:prompt-id="promptId"
        v-bind:lobby-id="lobbyId"
        v-bind:run-id="runId"

        v-bind:start-article="startArticle"
        v-bind:end-article="endArticle"
        v-bind:final-time="endTime - startTime"
        v-bind:path="path"

        v-show="finished"
    ></finish-page>

    <div v-show="started && !finished" id="main">
        <div id="wikipedia-frame"></div>
    </div>

</div>
{% endblock %}
